var y=Object.defineProperty;var H=(c,n,l)=>n in c?y(c,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):c[n]=l;var r=(c,n,l)=>(H(c,typeof n!="symbol"?n+"":n,l),l);(function(){"use strict";const c=()=>{const i="0123456789ABCDEF";let t="#";for(let e=0;e<6;e++)t+=i[Math.floor(Math.random()*16)];return t},n=(i,t)=>Math.floor(Math.random()*(t-i)+i),l=(i,t,e,s)=>Math.sqrt(Math.pow(t-i,2)+Math.pow(s-e,2)),f=i=>+(10*(i/30)).toFixed(3),v=i=>i*Math.PI/180,p=i=>{if(i<2)return Math.random()>.9?n(10,180):n(10,40);if(i<50){const t=Math.ceil(i/10);let e=10;for(let s=0;s<i;s+=t)e--;return e}return 1},m=()=>[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(t=>navigator.userAgent.match(t));class g{constructor(){r(this,"canvas");r(this,"lastCoords",{x:0,y:0});r(this,"init",()=>{if(!this.canvas)return;this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight;const t=this.canvas.getContext("2d");this.canvas.focus(),t&&(t.lineCap="round",t.strokeStyle="#000",t.fillStyle="#000")});r(this,"doubleClickHandler",()=>{if(!this.canvas)return;const{width:t,height:e}=this.canvas,s=this.canvas.getContext("2d");s==null||s.clearRect(0,0,t,e)});r(this,"clickHandler",()=>{var s;const t=(s=this.canvas)==null?void 0:s.getContext("2d");if(!t)return;const e=c();t.strokeStyle=e,t.fillStyle=e,t.closePath()});r(this,"resizeHandler",()=>{this.canvas&&(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight)});r(this,"drawRandomPoint",(t,e)=>{if(Math.random()*100>20)return;const{x:s,y:a}=this.lastCoords,o=t*8*(Math.pow(Math.random(),2)-.5),d=Math.random()-.5;e.lineWidth=n(2,10),e.moveTo(s+o,a+o),e.lineTo(s+d+o,a+d+o)});r(this,"drawEllipse",(t,e,s)=>{t.beginPath(),t.ellipse(e,s,n(20,40),n(20,40),v(n(0,360)),0,2*Math.PI),t.fill()});r(this,"touchMoveHandler",({touches:t})=>{this.moveHandler(t[0].pageX,t[0].pageY)});r(this,"mouseMoveHandler",({offsetX:t,offsetY:e})=>{this.moveHandler(t,e)});r(this,"moveHandler",(t,e)=>{var u;this.lastCoords.x===0&&this.lastCoords.y===0&&(this.lastCoords={x:t,y:e});const s=(u=this.canvas)==null?void 0:u.getContext("2d");if(!s)return;const{x:a,y:o}=this.lastCoords,d=l(a,t,o,e),M=f(d),h=p(M),w=(a-t)*Math.sin(.5)+t,C=(o-e)*Math.cos(.5)+e;s.moveTo(a,o),s.quadraticCurveTo(w,C,a,o),s.beginPath(),s.moveTo(a,o),s.lineTo(t,e),this.drawRandomPoint(d,s);const k=Math.random()>.3;h>35&&k?this.drawEllipse(s,t,e):(s.lineWidth=h,s.stroke()),this.lastCoords={x:t,y:e}});r(this,"getCanvas",()=>document.querySelector("canvas"));this.canvas=this.getCanvas(),this.canvas&&(this.canvas.addEventListener("dblclick",this.doubleClickHandler),this.canvas.addEventListener("click",this.clickHandler),m()?this.canvas.addEventListener("touchmove",this.touchMoveHandler):this.canvas.addEventListener("mousemove",this.mouseMoveHandler),window.addEventListener("resize",this.resizeHandler),this.init())}}const P="";new g})();
